<div id="register_page" class="row">
  <form *ngIf="!isSuccessful" name="form" (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm" novalidate>
    <div>
      <div class="form-group col-12  mr-auto ml-auto">
        <label for="username" class="input-text col-5 ">
          <p>Identifiant</p>
        </label> 
        <div class="test col-7 ">
          <input type="text" class="form-control " name="username" [(ngModel)]="form.username" required minlength="3"
            maxlength="20" #username="ngModel" [ngClass]="{ 'is-invalid': f.submitted && username.errors }" />
          <div class="invalid-feedback" *ngIf="username.errors && f.submitted ">
            <div class="invalid-text" *ngIf="username.errors['required']">Champ obligatoire</div>
            <div class="invalid-text" *ngIf="username.errors['minlength']">3 caractères minimum </div>
            <div class="invalid-text" *ngIf="username.errors['maxlength']"> 20 caractères maximum</div>
          </div>
        </div>
      </div>

      <div class="form-group col-12  mr-auto ml-auto">
        <label for="lastname" class="input-text col-5">
          <p>Nom</p>
        </label>
        <div class="test col-7">
          <input type="text" class="form-control" name="lastname" [(ngModel)]="form.lastname" required minlength="3"
            maxlength="20" #lastname="ngModel" [ngClass]="{ 'is-invalid': f.submitted && lastname.errors }" />
          <div class="invalid-feedback" *ngIf="lastname.errors && f.submitted">
            <div class="invalid-text" *ngIf="lastname.errors['required']">Champ obligatoire</div>
            <div class="invalid-text" *ngIf="lastname.errors['minlength']">3 caractères minimum</div>
            <div class="invalid-text" *ngIf="lastname.errors['maxlength']">20 caractères maximum</div>
          </div>
        </div>
      </div>

      <div class="form-group col-12 mr-auto ml-auto">
        <label for="firstname " class="input-text col-5">
          <p>Prénom</p>
        </label>
        <div class="test col-7">
          <input type="text" class="form-control" name="firstname" [(ngModel)]="form.firstname" required minlength="3"
            maxlength="20" #firstname="ngModel" [ngClass]="{ 'is-invalid': f.submitted && firstname.errors }" />
          <div class="invalid-feedback" *ngIf="firstname.errors && f.submitted">
            <div class="invalid-text" *ngIf="firstname.errors['required']">Champ obligatoire</div>
            <div class="invalid-text" *ngIf="firstname.errors['minlength']">3 caractères minimum</div>
            <div class="invalid-text" *ngIf="firstname.errors['maxlength']">20 caractères maximum</div>
          </div>
        </div>
      </div>

      <div class="form-group col-12 mr-auto ml-auto">
        <label for="email" class="input-text col-5">
          <p>Email</p>
        </label>
        <div class="test col-7">
          <input type="email" class="form-control" name="email" [(ngModel)]="form.email" required email #email="ngModel"
            [ngClass]="{ 'is-invalid': f.submitted && email.errors }" />
          <div class="invalid-feedback" *ngIf="email.errors && f.submitted">
            <div class="invalid-text" *ngIf="email.errors['required']">Champ obligatoire</div>
            <div class="invalid-text" *ngIf="email.errors['email']">Email invalide</div>
          </div>
        </div>
      </div>

      <div class="form-group col-12 mr-auto ml-auto">
        <label for="password" class="input-text col-5">
          <p>Mot de passe</p>
        </label>
        <div class="test col-7">
          <input type="password" class="form-control" name="password" [(ngModel)]="form.password" required minlength="6"
            maxlength="20" #password="ngModel" [ngClass]="{ 'is-invalid': f.submitted && password.errors }" />
          <div class="invalid-feedback" *ngIf="password.errors && f.submitted">
            <div class="invalid-text" *ngIf="password.errors['required']">Champ obligatoire</div>
            <div class="invalid-text" *ngIf="password.errors['minlength']"> 6 caractères minimum </div>
            <div class="invalid-text" *ngIf="password.errors['maxlength']">20 caractères maximum</div>
          </div>
        </div>
      </div>

      <div class="form-group col-12 mr-auto ml-auto ">
        <label for="confirm" class="input-text col-5">
          <p>Confirmez <br>le mot de passe</p>
        </label>
        <div class="test col-7">
          <input type="password" class="form-control" name="confirmPassword" [(ngModel)]="form.confirmPassword"
            required #password="ngModel">
        </div>
      </div>
    </div>

    <div class="validation-buttons col-12 ">
      <button type="submit" class="validation-btn col-4 ">Valider</button>
      <button type="button" (click)="onReset(f)" class="validation-btn col-4 ">Annuler </button>
    </div>
  </form>
</div>